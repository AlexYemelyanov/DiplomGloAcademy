(()=>{"use strict";var e=document.querySelector(".menu-button"),t=document.querySelector(".top-menu"),n=document.querySelector(".popup-menu"),o=document.querySelector(".close-menu-btn");function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var r,a,u,i,s,d,f,m,y,v,p,g,h,E,b,k,L,S,B,I,w,q,_;window.addEventListener("resize",(function(l){if(console.log(l.target.screen.width),l.target.screen.width<767){var c=function(){n.style.display="none"};n.addEventListener("click",(function(e){var t=e.target;(t=t.closest("a"))&&c(),o===e.target&&c()})),document.addEventListener("scroll",(function(){t.getBoundingClientRect().top<=0&&(o.style.display="block",t.classList.add("menu-fix")),0===pageYOffset&&(o.style.display="none",t.classList.remove("menu-fix"))})),e.addEventListener("click",(function(){n.style.display="flex"}))}else document.addEventListener("scroll",(function(){t.classList.remove("menu-fix")}))})),q=document.querySelector(".club-select"),_=document.querySelector(".clubs-list").querySelector("ul"),q.addEventListener("click",(function(e){"block"!==_.style.display?_.style.display="block":_.style.display="none"})),B=document.querySelector(".main-slider").querySelectorAll(".slide"),I=0,w=function(){B[I].style.display="none",++I>=B.length&&(I=0),B[I].style.display="flex"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(w,e)}(3e3),function(){var e=document.querySelector(".fixed-gift");if(e){var t=document.getElementById("gift"),n=t.querySelector(".close-form"),o=t.querySelector(".close-btn"),l=function(){t.style.display="none"};t.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||l(),n===!t&&l(),o===e.target&&l()})),e.addEventListener("click",(function(){t.style.display="block",e.style.display="none"}))}}(),i=document.querySelector(".head-main"),s=document.getElementById("free_visit_form"),d=document.getElementById("callback_form"),f=s.querySelector(".close-form"),m=d.querySelector(".close-form"),y=document.getElementById("thanks"),v=y.querySelector(".close-form"),p=y.querySelector(".close-btn"),g=s.querySelector(".close-btn"),h=d.querySelector(".close-btn"),E=document.getElementById("form2"),b=document.getElementById("form1"),k=function(){s.style.display="none"},L=function(){d.style.display="none"},S=function(){y.style.display="none"},s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||(k(),E.reset()),f===!t&&(k(),E.reset()),g===e.target&&(k(),E.reset())})),y.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||S(),v===!t&&S(),p===e.target&&S()})),d.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||(L(),b.reset()),m===!t&&(L(),b.reset()),p===e.target&&(h(),b.reset())})),i.addEventListener("click",(function(e){e.target.matches(".open-popup")&&(s.style.display="block"),e.target.matches(".callback-btn")&&(d.style.display="flex")})),r=document.getElementById("totop"),a=document.getElementById("clubs"),u=document.getElementById("leto-mozaika"),r.style.display="none",document.addEventListener("scroll",(function(){a&&(a.getBoundingClientRect().top<=0&&(r.style.display="block"),a.getBoundingClientRect().top>0&&(r.style.display="none")),u&&(u.getBoundingClientRect().top<=0&&(r.style.display="block"),u.getBoundingClientRect().top>0&&(r.style.display="none"))})),r.addEventListener("click",(function(e){if(e.preventDefault(),a){var t=r.getAttribute("href").substring(1),n=document.querySelector(".".concat(t)).getBoundingClientRect().top-0;window.scrollBy({top:n,behavior:"smooth"})}if(u){var o=r.getAttribute("href").substring(1),l=document.querySelector(".".concat(o)).getBoundingClientRect().top-0;window.scrollBy({top:l,behavior:"smooth"})}})),function(){var e,t=document.querySelector(".gallery-slider").querySelectorAll(".slide"),n=document.querySelector(".gallery-slider"),o=document.getElementById("gallery"),l=0,c=document.querySelectorAll(".dot"),r=document.createElement("a"),a=document.createElement("a");r.className="slider-arrow prev",a.className="slider-arrow next",n.append(r),n.append(a);var u=document.createElement("ul");u.classList.add("gallery-dots"),n.append(u),t.forEach((function(){var e=u,t=document.createElement("li");t.classList.add("dot"),e.append(t)})),0===c&&newDot.classList.add("slick-active"),c=document.querySelectorAll(".dot");var i=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},d=function(){i(t,l,"slide-active"),i(c,l,"slick-active"),++l>=t.length&&(l=0),s(t,l,"slide-active"),s(c,l,"slick-active")},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(d,t)};o.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".slider-arrow, .dot")&&(i(t,l,"slide-active"),i(c,l,"slick-active"),n.matches(".next")?l++:n.matches(".prev")?l--:n.matches(".dot")&&c.forEach((function(e,t){e===n&&(l=t)})),l>=t.length?l=0:l<0&&(l=t.length-1),s(t,l,"slide-active"),s(c,l,"slick-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".slider-arrow")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&f(1500)})),f(1500)}(),function(){var e=document.getElementById("card_order").querySelector(".cards-types");e&&e.querySelectorAll("input").forEach((function(e){e.checked=!1,e.addEventListener("click",(function(e){e.target.checked=!0}))}));var t=document.querySelector(".time");if(t){var n=t.querySelectorAll("input"),o=document.getElementById("card_order"),l=document.getElementById("card_leto_mozaika"),c=document.getElementById("card_leto_schelkovo"),r=o.querySelectorAll(".club"),a=document.getElementById("price-total"),u=o.querySelector(".price").querySelector("input"),i=o.querySelector(".price");i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,""))})),a.textContent="",n.forEach((function(e){e.checked=!1})),r.forEach((function(e){e.querySelector("input").checked=!1,e.addEventListener("click",(function(e){var o=e.target;n.forEach((function(e){e.checked=!1})),a.textContent="",u.value="",o===l&&(o.checked=!0,t.addEventListener("click",(function(e){var t=e.target;n.forEach((function(e){t.id===e.id&&(m1&&(m1.value=1990),m2&&(m2.value=9900),m3&&(m3.value=13900),m4&&(m4.value=19900)),i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,"")),"ТЕЛО2021"===e.target.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value})),"ТЕЛО2021"===u.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value}))}))),o===c&&(o.checked=!0,t.addEventListener("click",(function(e){var t=e.target;n.forEach((function(e){t.id===e.id&&(m1&&(m1.value=2999),m2&&(m2.value=14990),m3&&(m3.value=21990),m4&&(m4.value=24990)),i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,"")),"ТЕЛО2021"===e.target.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value})),"ТЕЛО2021"===u.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value}))})))}))}))}}(),function(){document.getElementById("footer_leto_mozaika"),document.getElementById("footer_leto_schelkovo");var e=document.getElementById("callback_footer_form-phone"),t=document.getElementById("footer_form"),n=document.getElementById("form2");if(n){var o,c=document.getElementById("callback_form2-name"),r=document.getElementById("callback_form2-phone"),a=(document.getElementById("check2"),[]),u=l(n.elements);try{for(u.s();!(o=u.n()).done;){var i=o.value;"button"!==i.tagName.toLowerCase()&&"button"!==i.type&&a.push(i)}}catch(e){u.e(e)}finally{u.f()}n.addEventListener("submit",(function(e){a.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))})),n.addEventListener("input",(function(e){c.value=c.value.replace(/[^А-Яа-яЁё\s]/gi,""),r.value=r.value.replace(/[^\+\d]/,"")}))}var s=document.getElementById("form1");if(s){var d,f=document.getElementById("callback_name"),m=document.getElementById("callback_phone"),y=(document.getElementById("check1"),[]),v=l(s.elements);try{for(v.s();!(d=v.n()).done;){var p=d.value;"button"!==p.tagName.toLowerCase()&&"button"!==p.type&&y.push(p)}}catch(e){v.e(e)}finally{v.f()}s.addEventListener("submit",(function(e){y.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))})),s.addEventListener("input",(function(e){f.value=f.value.replace(/[^А-Яа-яЁё\s]/gi,""),m.value=m.value.replace(/[^\+\d]/,"")}))}var g=document.getElementById("card_order");if(g){document.getElementById("card_leto_mozaika"),document.getElementById("card_leto_schelkovo");var h,E=document.getElementById("name-club_order"),b=document.getElementById("callback_form-phone"),k=(document.getElementById("card_check"),[]),L=l(g.elements);try{for(L.s();!(h=L.n()).done;){var S=h.value;"button"!==S.tagName.toLowerCase()&&"button"!==S.type&&k.push(S)}}catch(e){L.e(e)}finally{L.f()}g.addEventListener("input",(function(e){E.value=E.value.replace(/[^А-Яа-яЁё\s]/gi,""),b.value=b.value.replace(/[^\+\d]/,"")})),g.addEventListener("submit",(function(e){k.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))}))}var B=document.getElementById("banner-form");if(B){var I=document.getElementById("phone"),w=document.getElementById("banner-name"),q=document.getElementById("check1"),_=[];B.addEventListener("submit",(function(e){!1===q.checked&&e.preventDefault(),_.forEach((function(t){t===I&&(t.value||e.preventDefault()),t===w&&(t.value||e.preventDefault()),t===q&&!1===t.checked&&(e.preventDefault(),alert("Pls checked Me"))}))}));var x,D=l(B.elements);try{for(D.s();!(x=D.n()).done;){var C=x.value;"button"!==C.tagName.toLowerCase()&&"button"!==C.type&&_.push(C)}}catch(e){D.e(e)}finally{D.f()}B.addEventListener("input",(function(e){w.value=w.value.replace(/[^А-Яа-яЁё\s]/gi,""),I.value=I.value.replace(/[^\+\d]/,"")}))}t.addEventListener("submit",(function(e){console.log(e),T.forEach((function(t){e.preventDefault(),console.log(t)}))}));var A,T=[],M=l(t.elements);try{for(M.s();!(A=M.n()).done;){var O=A.value;"button"!==O.tagName.toLowerCase()&&"button"!==O.type&&T.push(O)}}catch(e){M.e(e)}finally{M.f()}console.log(T),t.addEventListener("input",(function(t){e.value=e.value.replace(/[^\+()\d]/gi,"")}))}(),function(){var e=document.getElementById("form2"),t=document.getElementById("free_visit_form"),n=document.getElementById("callback_form"),o=document.getElementById("footer_form"),l=document.getElementById("form1"),c=document.getElementById("thanks"),r=c.querySelector(".form-content"),a=document.getElementById("card_order"),u=document.getElementById("banner-form"),i=a.querySelector(".cards-types");if(i){var s=i.querySelectorAll("input");a.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(a),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");c.style.display="flex",s.forEach((function(e){e.checked=!1}))})).catch((function(e){c.style.display="flex",r.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',r.querySelector(".close-btn").addEventListener("click",(function(){c.style.display="none"})),console.log(e),s.forEach((function(e){e.checked=!1})),console.log(e)})).finally((function(){a.reset(),s.forEach((function(e){e.checked=!1})),setTimeout((function(){c.style.display="none"}),3e3)}))}))}u.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(u),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");c.style.display="flex"})).catch((function(e){c.style.display="flex",r.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',r.querySelector(".close-btn").addEventListener("click",(function(){c.style.display="none"})),console.log(e)})).finally((function(){u.reset(),setTimeout((function(){c.style.display="none"}),3e3)}))})),e.addEventListener("submit",(function(n){n.preventDefault();var o=new FormData(e),l={};o.forEach((function(e,t){l[t]=e})),d(l).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");c.style.display="flex",t.style.display="none"})).catch((function(e){c.style.display="flex",r.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',r.querySelector(".close-btn").addEventListener("click",(function(){c.style.display="none"})),console.log(e)})).finally((function(){e.reset(),setTimeout((function(){c.style.display="none"}),3e3)}))})),l.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(l),o={};t.forEach((function(e,t){o[t]=e})),d(o).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");c.style.display="flex",n.style.display="none"})).catch((function(e){c.style.display="flex",n.style.display="none",r.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',r.querySelector(".close-btn").addEventListener("click",(function(){c.style.display="none"})),console.log(e)})).finally((function(){l.reset(),setTimeout((function(){c.style.display="none"}),3e3)}))})),a.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(a),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");c.style.display="flex",cardTypesInputs.forEach((function(e){e.checked=!1}))})).catch((function(e){c.style.display="flex",r.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',r.querySelector(".close-btn").addEventListener("click",(function(){c.style.display="none"})),console.log(e)})).finally((function(){a.reset(),setTimeout((function(){c.style.display="none"}),3e3)}))})),o.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(o),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");c.style.display="flex"})).catch((function(e){c.style.display="flex",r.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',r.querySelector(".close-btn").addEventListener("click",(function(){c.style.display="none"})),console.log(e)})).finally((function(){o.reset(),setTimeout((function(){c.style.display="none"}),3e3)}))}));var d=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)})}}()})();