(()=>{"use strict";var e=document.querySelector(".menu-button"),t=document.querySelector(".top-menu"),n=document.querySelector(".popup-menu"),l=document.querySelector(".close-menu-btn");var c,o,a,r,i,d,u,s,m,v,y,f,g,p,h;window.addEventListener("resize",(function(c){if(console.log(c.target.screen.width),c.target.screen.width<767){var o=function(){n.style.display="none"};n.addEventListener("click",(function(e){var t=e.target;(t=t.closest("a"))&&o(),l===e.target&&console.log(l),o()})),document.addEventListener("scroll",(function(){t.getBoundingClientRect().top<=0&&(l.style.display="block",t.classList.add("menu-fix")),0===pageYOffset&&(l.style.display="none",t.classList.remove("menu-fix"))})),e.addEventListener("click",(function(){n.style.display="flex"}))}else document.addEventListener("scroll",(function(){t.classList.remove("menu-fix")}))})),p=document.querySelector(".club-select"),h=document.querySelector(".clubs-list").querySelector("ul"),p.addEventListener("click",(function(e){"block"!==h.style.display?h.style.display="block":h.style.display="none"})),y=document.querySelector(".main-slider").querySelectorAll(".slide"),f=0,g=function(){y[f].style.display="none",++f>=y.length&&(f=0),y[f].style.display="flex"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(g,e)}(3e3),function(){var e=document.querySelector(".fixed-gift");if(e){var t=document.getElementById("gift"),n=t.querySelector(".close-form"),l=t.querySelector(".close-btn"),c=function(){t.style.display="none"};t.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||c(),n===!t&&c(),l===e.target&&c()})),e.addEventListener("click",(function(){t.style.display="block",e.style.display="none"}))}}(),r=document.querySelector(".head-main"),i=document.getElementById("free_visit_form"),d=document.getElementById("callback_form"),u=i.querySelector(".close-form"),s=i.querySelector(".close-form"),m=function(){i.style.display="none"},v=function(){d.style.display="none"},i.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||m(),u===!t&&m()})),d.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||v(),s===!t&&v()})),r.addEventListener("click",(function(e){e.target.matches(".open-popup")&&(i.style.display="block"),e.target.matches(".callback-btn")&&(d.style.display="flex")})),c=document.getElementById("totop"),o=document.getElementById("clubs"),a=document.getElementById("leto-mozaika"),c.style.display="none",document.addEventListener("scroll",(function(){o&&(o.getBoundingClientRect().top<=0&&(c.style.display="block"),o.getBoundingClientRect().top>0&&(c.style.display="none")),a&&(a.getBoundingClientRect().top<=0&&(c.style.display="block"),a.getBoundingClientRect().top>0&&(c.style.display="none"))})),c.addEventListener("click",(function(e){if(e.preventDefault(),o){var t=c.getAttribute("href").substring(1),n=document.querySelector(".".concat(t)).getBoundingClientRect().top-0;window.scrollBy({top:n,behavior:"smooth"})}if(a){var l=c.getAttribute("href").substring(1),r=document.querySelector(".".concat(l)).getBoundingClientRect().top-0;window.scrollBy({top:r,behavior:"smooth"})}})),function(){var e,t=document.querySelector(".gallery-slider").querySelectorAll(".slide"),n=document.querySelector(".gallery-slider"),l=document.getElementById("gallery"),c=0,o=document.querySelectorAll(".dot"),a=document.createElement("a"),r=document.createElement("a");a.className="slider-arrow prev",r.className="slider-arrow next",n.append(a),n.append(r);var i=document.createElement("ul");i.classList.add("gallery-dots"),n.append(i),t.forEach((function(){var e=i,t=document.createElement("li");t.classList.add("dot"),e.append(t)})),0===o&&newDot.classList.add("slick-active"),o=document.querySelectorAll(".dot");var d=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},s=function(){d(t,c,"slide-active"),d(o,c,"slick-active"),++c>=t.length&&(c=0),u(t,c,"slide-active"),u(o,c,"slick-active")},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(s,t)};l.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".slider-arrow, .dot")&&(d(t,c,"slide-active"),d(o,c,"slick-active"),n.matches(".next")?c++:n.matches(".prev")?c--:n.matches(".dot")&&o.forEach((function(e,t){e===n&&(c=t)})),c>=t.length?c=0:c<0&&(c=t.length-1),u(t,c,"slide-active"),u(o,c,"slick-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".slider-arrow")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&m(1500)})),m(1500)}(),function(){var e=document.querySelector(".time");if(e){var t=e.querySelectorAll("input"),n=document.getElementById("card_order"),l=document.getElementById("card_leto_mozaika"),c=document.getElementById("card_leto_schelkovo"),o=n.querySelectorAll(".club"),a=document.getElementById("price-total"),r=n.querySelector(".price").querySelector("input"),i=n.querySelector(".price");i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,""))})),a.textContent="",t.forEach((function(e){e.checked=!1})),o.forEach((function(n){n.querySelector("input").checked=!1,n.addEventListener("click",(function(n){var o=n.target;t.forEach((function(e){e.checked=!1})),a.textContent="",r.value="",o===l&&(o.checked=!0,e.addEventListener("click",(function(e){var n=e.target;t.forEach((function(e){n.id===e.id&&(m1&&(m1.value=1990),m2&&(m2.value=9900),m3&&(m3.value=13900),m4&&(m4.value=19900)),i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,"")),"ТЕЛО2021"===e.target.value?a.textContent=n.value-Math.round(.3*n.value):a.textContent=n.value})),"ТЕЛО2021"===r.value?a.textContent=n.value-Math.round(.3*n.value):a.textContent=n.value}))}))),o===c&&(o.checked=!0,e.addEventListener("click",(function(e){var n=e.target;t.forEach((function(e){n.id===e.id&&(m1&&(m1.value=2999),m2&&(m2.value=14990),m3&&(m3.value=21990),m4&&(m4.value=24990)),i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,"")),"ТЕЛО2021"===e.target.value?a.textContent=n.value-Math.round(.3*n.value):a.textContent=n.value})),"ТЕЛО2021"===r.value?a.textContent=n.value-Math.round(.3*n.value):a.textContent=n.value}))})))}))}))}}()})();