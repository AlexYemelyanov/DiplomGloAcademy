(()=>{"use strict";var e=document.querySelector(".menu-button"),t=document.querySelector(".top-menu"),n=document.querySelector(".popup-menu"),o=document.querySelector(".close-menu-btn");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var c,a,u,i,d,s,f,m,y,v,p,g,h,E,b,k,L,B,I,S,w,q,_;window.addEventListener("resize",(function(r){if(console.log(r.target.screen.width),r.target.screen.width<767){var l=function(){n.style.display="none"};n.addEventListener("click",(function(e){var t=e.target;(t=t.closest("a"))&&l(),o===e.target&&l()})),document.addEventListener("scroll",(function(){t.getBoundingClientRect().top<=0&&(o.style.display="block",t.classList.add("menu-fix")),0===pageYOffset&&(o.style.display="none",t.classList.remove("menu-fix"))})),e.addEventListener("click",(function(){n.style.display="flex"}))}else document.addEventListener("scroll",(function(){t.classList.remove("menu-fix")}))})),q=document.querySelector(".club-select"),_=document.querySelector(".clubs-list").querySelector("ul"),q.addEventListener("click",(function(e){"block"!==_.style.display?_.style.display="block":_.style.display="none"})),I=document.querySelector(".main-slider").querySelectorAll(".slide"),S=0,w=function(){I[S].style.display="none",++S>=I.length&&(S=0),I[S].style.display="flex"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(w,e)}(3e3),function(){var e=document.querySelector(".fixed-gift");if(e){var t=document.getElementById("gift"),n=t.querySelector(".close-form"),o=t.querySelector(".close-btn"),r=function(){t.style.display="none"};t.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||r(),n===!t&&r(),o===e.target&&r()})),e.addEventListener("click",(function(){t.style.display="block",e.style.display="none"}))}}(),i=document.querySelector(".head-main"),d=document.getElementById("free_visit_form"),s=document.getElementById("callback_form"),f=d.querySelector(".close-form"),m=s.querySelector(".close-form"),y=document.getElementById("thanks"),v=y.querySelector(".close-form"),p=y.querySelector(".close-btn"),g=d.querySelector(".close-btn"),h=s.querySelector(".close-btn"),E=document.getElementById("form2"),b=document.getElementById("form1"),k=function(){d.style.display="none"},L=function(){s.style.display="none"},B=function(){y.style.display="none"},d.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||(k(),E.reset()),f===!t&&(k(),E.reset()),g===e.target&&(k(),E.reset())})),y.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||B(),v===!t&&B(),p===e.target&&B()})),s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".form-content"))||(L(),b.reset()),m===!t&&(L(),b.reset()),p===e.target&&(h(),b.reset())})),i.addEventListener("click",(function(e){e.target.matches(".open-popup")&&(d.style.display="block"),e.target.matches(".callback-btn")&&(s.style.display="flex")})),c=document.getElementById("totop"),a=document.getElementById("clubs"),u=document.getElementById("leto-mozaika"),c.style.display="none",document.addEventListener("scroll",(function(){a&&(a.getBoundingClientRect().top<=0&&(c.style.display="block"),a.getBoundingClientRect().top>0&&(c.style.display="none")),u&&(u.getBoundingClientRect().top<=0&&(c.style.display="block"),u.getBoundingClientRect().top>0&&(c.style.display="none"))})),c.addEventListener("click",(function(e){if(e.preventDefault(),a){var t=c.getAttribute("href").substring(1),n=document.querySelector(".".concat(t)).getBoundingClientRect().top-0;window.scrollBy({top:n,behavior:"smooth"})}if(u){var o=c.getAttribute("href").substring(1),r=document.querySelector(".".concat(o)).getBoundingClientRect().top-0;window.scrollBy({top:r,behavior:"smooth"})}})),function(){var e,t=document.querySelector(".gallery-slider").querySelectorAll(".slide"),n=document.querySelector(".gallery-slider"),o=document.getElementById("gallery"),r=0,l=document.querySelectorAll(".dot"),c=document.createElement("a"),a=document.createElement("a");c.className="slider-arrow prev",a.className="slider-arrow next",n.append(c),n.append(a);var u=document.createElement("ul");u.classList.add("gallery-dots"),n.append(u),t.forEach((function(){var e=u,t=document.createElement("li");t.classList.add("dot"),e.append(t)})),0===l&&newDot.classList.add("slick-active"),l=document.querySelectorAll(".dot");var i=function(e,t,n){e[t].classList.remove(n)},d=function(e,t,n){e[t].classList.add(n)},s=function(){i(t,r,"slide-active"),i(l,r,"slick-active"),++r>=t.length&&(r=0),d(t,r,"slide-active"),d(l,r,"slick-active")},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(s,t)};o.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".slider-arrow, .dot")&&(i(t,r,"slide-active"),i(l,r,"slick-active"),n.matches(".next")?r++:n.matches(".prev")?r--:n.matches(".dot")&&l.forEach((function(e,t){e===n&&(r=t)})),r>=t.length?r=0:r<0&&(r=t.length-1),d(t,r,"slide-active"),d(l,r,"slick-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".slider-arrow")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&f(1500)})),f(1500)}(),function(){var e=document.getElementById("card_order").querySelector(".cards-types");e&&e.querySelectorAll("input").forEach((function(e){e.checked=!1,e.addEventListener("click",(function(e){e.target.checked=!0}))}));var t=document.querySelector(".time");if(t){var n=t.querySelectorAll("input"),o=document.getElementById("card_order"),r=document.getElementById("card_leto_mozaika"),l=document.getElementById("card_leto_schelkovo"),c=o.querySelectorAll(".club"),a=document.getElementById("price-total"),u=o.querySelector(".price").querySelector("input"),i=o.querySelector(".price");i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,""))})),a.textContent="",n.forEach((function(e){e.checked=!1})),c.forEach((function(e){e.querySelector("input").checked=!1,e.addEventListener("click",(function(e){var o=e.target;n.forEach((function(e){e.checked=!1})),a.textContent="",u.value="",o===r&&(o.checked=!0,t.addEventListener("click",(function(e){var t=e.target;n.forEach((function(e){t.id===e.id&&(m1&&(m1.value=1990),m2&&(m2.value=9900),m3&&(m3.value=13900),m4&&(m4.value=19900)),i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,"")),"ТЕЛО2021"===e.target.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value})),"ТЕЛО2021"===u.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value}))}))),o===l&&(o.checked=!0,t.addEventListener("click",(function(e){var t=e.target;n.forEach((function(e){t.id===e.id&&(m1&&(m1.value=2999),m2&&(m2.value=14990),m3&&(m3.value=21990),m4&&(m4.value=24990)),i.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/[^А-ЯЁ\d]/gi,"")),"ТЕЛО2021"===e.target.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value})),"ТЕЛО2021"===u.value?a.textContent=t.value-Math.round(.3*t.value):a.textContent=t.value}))})))}))}))}}(),function(){document.getElementById("footer_leto_mozaika"),document.getElementById("footer_leto_schelkovo");var e=document.getElementById("callback_footer_form-phone"),t=document.getElementById("footer_form"),n=document.getElementById("form2");if(n){var o,l=document.getElementById("callback_form2-name"),c=document.getElementById("callback_form2-phone"),a=(document.getElementById("check2"),[]),u=r(n.elements);try{for(u.s();!(o=u.n()).done;){var i=o.value;"button"!==i.tagName.toLowerCase()&&"button"!==i.type&&a.push(i)}}catch(e){u.e(e)}finally{u.f()}n.addEventListener("submit",(function(e){a.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))})),console.log(a),n.addEventListener("input",(function(e){l.value=l.value.replace(/[^А-Яа-яЁё\s]/gi,""),c.value=c.value.replace(/[^\+\d]/,"")}))}var d=document.getElementById("form1");if(d){var s,f=document.getElementById("callback_name"),m=document.getElementById("callback_phone"),y=(document.getElementById("check1"),[]),v=r(d.elements);try{for(v.s();!(s=v.n()).done;){var p=s.value;"button"!==p.tagName.toLowerCase()&&"button"!==p.type&&y.push(p)}}catch(e){v.e(e)}finally{v.f()}d.addEventListener("submit",(function(e){y.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))})),d.addEventListener("input",(function(e){console.log(e.target),f.value=f.value.replace(/[^А-Яа-яЁё\s]/gi,""),m.value=m.value.replace(/[^\+\d]/,"")}))}var g=document.getElementById("card_order");if(g){document.getElementById("card_leto_mozaika"),document.getElementById("card_leto_schelkovo");var h,E=document.getElementById("name-club_order"),b=document.getElementById("callback_form-phone"),k=(document.getElementById("card_check"),[]),L=r(g.elements);try{for(L.s();!(h=L.n()).done;){var B=h.value;"button"!==B.tagName.toLowerCase()&&"button"!==B.type&&k.push(B)}}catch(e){L.e(e)}finally{L.f()}g.addEventListener("input",(function(e){E.value=E.value.replace(/[^А-Яа-яЁё\s]/gi,""),b.value=b.value.replace(/[^\+\d]/,"")})),g.addEventListener("submit",(function(e){k.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))}))}var I=document.getElementById("banner-form");if(I){var S=document.getElementById("phone"),w=document.getElementById("banner-name"),q=document.getElementById("check1"),_=[];I.addEventListener("submit",(function(e){!1===q.checked&&e.preventDefault(),_.forEach((function(t){t===S&&(t.value||e.preventDefault()),t===w&&(t.value||e.preventDefault()),t===q&&!1===t.checked&&(e.preventDefault(),alert("Pls checked Me"))}))}));var x,D=r(I.elements);try{for(D.s();!(x=D.n()).done;){var C=x.value;"button"!==C.tagName.toLowerCase()&&"button"!==C.type&&_.push(C)}}catch(e){D.e(e)}finally{D.f()}I.addEventListener("input",(function(e){w.value=w.value.replace(/[^А-Яа-яЁё\s]/gi,""),S.value=S.value.replace(/[^\+\d]/,"")}))}t.addEventListener("submit",(function(e){T.forEach((function(t){t.value||e.preventDefault(),t.checked||e.preventDefault()}))}));var A,T=[],M=r(t.elements);try{for(M.s();!(A=M.n()).done;){var O=A.value;"button"!==O.tagName.toLowerCase()&&"button"!==O.type&&T.push(O)}}catch(e){M.e(e)}finally{M.f()}t.addEventListener("input",(function(t){e.value=e.value.replace(/[^\+()\d]/gi,"")}))}(),function(){var e=document.getElementById("form2"),t=document.getElementById("free_visit_form"),n=document.getElementById("callback_form"),o=document.getElementById("footer_form"),r=document.getElementById("form1"),l=document.getElementById("thanks"),c=l.querySelector(".form-content"),a=document.getElementById("card_order"),u=document.getElementById("banner-form"),i=document.getElementById("card_order").querySelector(".cards-types").querySelectorAll("input");u.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(u),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");l.style.display="flex"})).catch((function(e){l.style.display="flex",c.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',console.log(e)})).finally((function(){u.reset(),setTimeout((function(){l.style.display="none"}),3e3)}))})),e.addEventListener("submit",(function(n){n.preventDefault();var o=new FormData(e),r={};o.forEach((function(e,t){r[t]=e})),d(r).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");l.style.display="flex",t.style.display="none"})).catch((function(e){l.style.display="flex",c.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',console.log(e)})).finally((function(){e.reset(),setTimeout((function(){l.style.display="none"}),3e3)}))})),r.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(r),o={};t.forEach((function(e,t){o[t]=e})),d(o).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");l.style.display="flex",n.style.display="none"})).catch((function(e){l.style.display="flex",n.style.display="none",c.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',console.log(e)})).finally((function(){r.reset(),setTimeout((function(){l.style.display="none"}),3e3)}))})),a.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(a),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");l.style.display="flex",i.forEach((function(e){e.checked=!1}))})).catch((function(e){l.style.display="flex",c.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',i.forEach((function(e){e.checked=!1})),console.log(e)})).finally((function(){a.reset(),i.forEach((function(e){e.checked=!1})),setTimeout((function(){l.style.display="none"}),3e3)}))})),o.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(o),n={};t.forEach((function(e,t){n[t]=e})),d(n).then((function(e){if(200!==e.status)throw new Error("Status network is not 200!");l.style.display="flex"})).catch((function(e){l.style.display="flex",c.innerHTML='<h4>Извините!</h4>\n                <p>Ваша заявка не отправлена. <br> Утрачена связь с сервером!.</p>\n                <button class="btn close-btn">OK</button>',console.log(e)})).finally((function(){o.reset(),setTimeout((function(){l.style.display="none"}),3e3)}))}));var d=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)})}}()})();